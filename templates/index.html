{%extends "base.html"%} {% block head %}
<title>Price Scraper</title>
<link
  rel="stylesheet"
  type="text/css"
  href="{{url_for('static',filename='css/index.css')}}"
/>
<script>
  function showSpinner() {
    var spinner = document.getElementById("spinner");
    spinner.style.visibility = "visible";
  }
</script>
{% endblock %} {% block body %}

<div class="container-fluid body">
  <div id="spinner">
    <div class="sk-fold">
      <div class="sk-fold-cube"></div>
      <div class="sk-fold-cube"></div>
      <div class="sk-fold-cube"></div>
      <div class="sk-fold-cube"></div>
    </div>
  </div>

  <div class="container content">
    <form action="/" method="POST">
      <div class="intro text-center">
        <h2 class="intro">Scrape For Prices</h2>
      </div>
      <div class="form-group">
        <label for="item">Search Item</label>
        <input
          type="text"
          class="form-control {{'is-invalid' if form.item.errors else ''}}"
          id="item"
          name="item"
          placeholder="eg. Doormat"
        />
        {% if form.item.errors %}
        <span class="invalid-label text-danger">{{form.item.errors[0]}}</span>
        {% endif %}
      </div>

      <div class="form-row">
        <div class="form-group col-md-8">
          <label for="site">Website</label>
          <select
            id="site"
            class="custom-select {{'is-invalid' if form.site.errors else ''}}"
            name="site"
          >
            <option value disabled selected>Select an Online Shop</option>
            {% for site in sites%}
            <option value="{{site}}">{{site}}</option>
            {% endfor %}
          </select>
          {% if form.site.errors %}
          <span class="invalid-label text-danger">{{form.site.errors[0]}}</span>
          {% endif %}
        </div>
        <div class="form-group col-md-4">
          <label for="page">Page Limit</label>
          <input
            type="number"
            class="form-control"
            id="page"
            name="page"
            value="1"
          />
        </div>
      </div>
      <div class="form-row butt-area">
        <button type="submit" class="butt mt-3" onclick="showSpinner()">
          Go
        </button>
      </div>
    </form>
  </div>
</div>

{% endblock %}
